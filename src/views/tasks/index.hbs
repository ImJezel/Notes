<link rel="stylesheet" href="/css/index.css" />

<div class="header">
  <a href="home">
    <h1 class="title">My Notes</h1>
  </a>
  <a href="create" class="btn">Agregar notas</a>
</div>

<div class="container">
  <div class="card-container">

    <div class="card_creator" style="background-color: #F7E6C4;">
      <h2 class="card-title">Agregar notas</h2>
      <p class="card-description-creator">Haz clic aquí para añadir una nueva
        nota.</p>

      <div class="contenedor_acciones">
        <a href="create" title="Añadir"><i
            class="fa-solid fa-circle-plus"
          ></i></a>
      </div>
    </div>

    {{#each tasks}}
      <div class="card">

        <h2 id="{{title}}" class="card-title">{{title}}</h2>
        <div class="card-description">
          <p id="{{description}}">{{description}}</p>
        </div>

        <div class="acciones-notas">

          <a href="/tasks/ver/{{id}}"><button type="submit"><i class="fa-solid fa-eye"></i></button></a>
          
          <a href="/tasks/editar/{{id}}"><button><i class="fa-solid fa-pencil"></i></button></a>

          <form action="/tasks/eliminar" method="POST" title="Eliminar">
            <input type="hidden" value="{{id}}" name="id" />
            <button type="submit">
              <i class="fa-solid fa-trash"></i></button>
          </form>

        </div>
      </div>

      <script>

        window.addEventListener('DOMContentLoaded', function () { var paragraph
        = document.getElementById('{{title}}'); var maxCharacters = 15; var text
        = paragraph.textContent; if (text.length > maxCharacters) {
        paragraph.textContent = text.slice(0, maxCharacters) + '...'; } });

        window.addEventListener('DOMContentLoaded', function () { var paragraph
        = document.getElementById('{{description}}'); var maxCharacters = 50;
        var text = paragraph.textContent; if (text.length > maxCharacters) {
        paragraph.textContent = text.slice(0, maxCharacters) + '...'; } });

      </script>

    {{/each}}

  </div>
</div>